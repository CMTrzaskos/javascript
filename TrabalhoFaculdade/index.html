<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3 Primos Food</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header><h1>Três Primos Food</h1></header>
    <main>
        <h2>Cardápio</h2>
            <div class="categoria-menu">
                <h3>Doces</h3><br>
                    <div class="item-menu">
                        <input type="checkbox" name="doce1" id="doce1" data-name="Brigadeiro" data-price="12.00">
                            <label for="doce1"><p>Brigadeiro - R$12,00 p Lorem, ipsum dolor sit amet consectetur adipisicin
                                g elit. Accusamus enim, explicabo nam alias quod, cumque hic fuga quos vero laborum velit ita
                                que dignissimos? Quam itaque ratione repudiandae, commodi suscipit tempore?</p> <img src="midia
                                s/brigadeiro.jpg" alt=""></label>
                        <input type="number" id="qty-doce1" value="1" min="0" style="width: 40px;">
                    </div>
                <br>
                <div class="item-menu">
                    <input type="checkbox" name="doce2" id="doce2" data-name="Churros" data-price="18.00">
                    <img src="midias/churros.jpg" alt="">
                    <label for="doce2">Churros - R$18,00</label>
                    <input type="number" id="qty-doce2" value="1" min="0" style="width: 40px;">
                </div>
                <br>
                <div class="item-menu">
                    <input type="checkbox" name="doce3" id="doce3" data-name="Torta" data-price="10.00">
                    <img src="midias/torta limao.jpg" alt="">
                    <label for="doce3">Torta de Limão (fatia) - R$10,00</label>
                    <input type="number" id="qty-doce3" value="1" min="0" style="width: 40px;">
                </div>
            </div>
            <div class="categoria-menu">
                <h3>Salgados</h3><br>
                    <div class="item-menu">
                        <input type="checkbox" name="saldao1" id="salgado1" data-name="Coxinha" data-price="10.00">
                        <img src="midias/coxinha.jpg" alt="">
                        <label for="salgado1">Coxinha - R$10,00</label>
                        <input type="number" id="qty-salgado1" value="1" min="0" style="width: 40px;">
                    </div>
                <br>
                <div class="item-menu">
                    <input type="checkbox" name="salgado" id="salgado2" data-name="Pastel" data-price="14.00">
                    <img src="midias/pastel.jpg" alt="">
                    <label for="salgado2">Pastel - R$14,00</label>
                    <input type="number" id="qty-salgado2" value="1" min="0" style="width: 40px;">
                </div>
                <br>
                <div class="item-menu">
                    <input type="checkbox" name="salgado3" id="salgado3" data-name="Kibe" data-price="10.00">
                    <img src="midias/kibe.jpg" alt="">
                    <label for="salgado3">Kibe - R$10,00</label>
                    <input type="number" id="qty-salgado3" value="1" min="0" style="width: 40px;">
                </div>
            </div>
            <div class="categoria-menu">
                <h3>Bebidas</h3><br>
                    <div class="item-menu">
                        <input type="checkbox" name="bebidas1" id="bebidas1" data-name="Refrigerante" data-price="7.00">
                        <img src="midias/refri.jpg" alt="">
                        <label for="bebidas1">Refrigerante (Lata) - R$7,00</label>
                        <input type="number" id="qty-bebidas1" value="1" min="0" style="width: 40px;">
                    </div>
                <br>
                <div class="item-menu">
                    <input type="checkbox" name="bebidas2" id="bebidas2" data-name="Chopp" data-price="15.00">
                    <img src="midias/chopp.jpg" alt="">
                    <label for="bebidas2">Chopp (1L)- R$15,00</label>
                    <input type="number" id="qty-bebidas2" value="1" min="0" style="width: 40px;">
                </div>
                <br>
                <div class="item-menu">
                    <input type="checkbox" name="bebidas3" id="bebidas3" data-name="Suco" data-price="5.00">
                    <img src="midias/suco.jpg" alt="">
                    <label for="bebidas3">Suco de Laranja(Natural)- R$5,00</label>
                    <input type="number" id="qty-bebidas3" value="1" min="0" style="width: 40px;">
                </div>
            </div>
            <div class="carrinho">
                <h2>Carrinho de Compras</h2>
                <div id="carrinho-itens"></div>
                <p>Total: R$<span id="carrinho-total">0.00</span></p>
                <button onclick="finalizarPedido()">Finalizar Pedido</button>
            </div>
            <div class="checkout" id="checkout">
                <h2>Finalizar Pedido</h2>
                <label for="nome">Nome Completo:</label>
                <input type="text" id="nome" required>
        
                <label for="entrega">Endereço de Entrega:</label>
                <input type="text" id="entrega" required>
        
                <label for="pagamento">Forma de Pagamento:</label>
                <select id="pagamento">
                    <option value="cartao">Cartão (Débito/Crédito)</option>
                    <option value="pix">Pix</option>
                </select>
        
                <h3>Resumo do Pedido</h3>
                <div id="pedidos"></div>
                <button onclick="confirmarPedido()">Confirmar Pedido</button>
                <button onclick="cancelarPedido()">Cancelar Pedido</button>
            </div>
    </main>

        <script>
            let carrinho = [];

                function adicionarAoCarrinho(name, price, quantity) {
                    carrinho.push({ name, price, quantity });
                    carrinhoAtualizado();
                }

                function carrinhoAtualizado() {
            const carrinhoItensDiv = document.getElementById('carrinho-itens');
            carrinhoItensDiv.innerHTML = '';
            let total = 0;
            carrinho.forEach(item => {
                carrinhoItensDiv.innerHTML += `<div class="cart-item">${item.name} - Quantidade: ${item.quantity} - R$${(item.price * item.quantity).toFixed(2)}</div>`;
                total += item.price * item.quantity;
            });
            document.getElementById('carrinho-total').innerText = total.toFixed(2);
            }


            function removerDoCarrinho(name) {
                carrinho = carrinho.filter(item => item.name !== name);
                carrinhoAtualizado();
            }

            function finalizarPedido() {
                if (carrinho.length === 0) {
                    alert('Seu carrinho está vazio!');
                    return;
                }
                document.getElementById('pedidos').innerHTML = document.getElementById('carrinho-itens').innerHTML + `<p>Total: R$${document.getElementById('carrinho-total').innerText}</p>`;
                document.getElementById('checkout').style.display = 'block';
            }

            function confirmarPedido() {
            const nome = document.getElementById('nome').value;
            const entrega = document.getElementById('entrega').value;
            const pagamento = document.getElementById('pagamento').value;

            if (!nome || !entrega) {
                alert('Por favor, preencha todos os campos.');
                return;
            }

            alert(`Pedido confirmado!\nNome: ${nome}\nEndereço: ${entrega}\nPagamento: ${pagamento}\n${document.getElementById('pedidos').innerText}`);
            limparCarrinho();
            document.getElementById('checkout').style.display = 'none';
        }

        function cancelarPedido() {
            if (confirm('Tem certeza de que deseja cancelar o pedido?')) {
                document.getElementById('checkout').style.display = 'none';
            }
        }

        function limparCarrinho() {
            carrinho = [];
            carrinhoAtualizado();
            document.getElementById('checkout').style.display = 'none';
        }

        document.querySelectorAll('.item-menu input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function () {
                const quantityInput = document.getElementById(`qty-${this.id}`);
                const name = this.dataset.name;
                const price = parseFloat(this.dataset.price);
                const quantity = parseInt(quantityInput.value);

                if (this.checked) {
                    adicionarAoCarrinho(name, price, quantity);
                } else {
                    removerDoCarrinho(name);
                }
            });
        })

        document.querySelectorAll('.item-menu input[type="number"]').forEach(input => {
            input.addEventListener('change', function () {
                const checkbox = this.parentElement.querySelector('input[type="checkbox"]');
                if (checkbox.checked) {
                    const name = checkbox.dataset.name;
                    const price = parseFloat(checkbox.dataset.price);
                    const quantity = parseInt(this.value);
                    removerDoCarrinho(name);
                    adicionarAoCarrinho(name, price, quantity);
                }
            });
        });
        </script>
        <script src="script.js"></script>
</body>
</html>